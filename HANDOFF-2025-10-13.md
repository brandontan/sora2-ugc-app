**Purpose:** Capture production UX + test-dashboard expectations
**Date:** 2025-10-13
**Project:** PROJECT_NAME

### TODAY'S PROGRESS
- Completed: ["Ran live /test-dashboard multi-gen (Fal + WaveSpeed) with real keys", "Captured provider docs + queue API behavior for Fal/WaveSpeed", "Drafted poller + admin dashboard spec skeleton"]
- Blockers: ["Fal & WaveSpeed jobs still in queue (no completion data yet)", "Poller implementation outstanding to keep Supabase parity", "Need Apidog MCP or equivalent access for deeper provider testing"]
- Decisions: ["User cancels will not auto-refund; refunds only on provider failure", "Poller will log every provider response into job_provider_events", "Admin dashboard to require token auth and surface queue analytics"]

### CURRENT FOCUS
- Working on: "Designing provider poller + admin dashboard to monitor jobs"
- Next immediate task: "Implement poller route + job_provider_events table"

### ACTIVE CONFIGURATIONS
- NAME = VALUE

### TOMORROW'S PRIORITIES
1. "Create job_provider_events migration + poller API route"
2. "Build admin dashboard table + timeline view"
3. "Update cancellation UI copy to warn credits non-refundable"

### CONTEXT NEEDED
- ["Apidog MCP / provider sandbox for Fal streaming logs", "WaveSpeed cancellation or streaming status support details"]

### UX FLOW NOTES (do not lose)
- Production flow: login → OTP → Stripe credit pack purchase → generate video via upload/provider/settings.
- After submit: job moves into thumbnail tray; user must stay unblocked to start more jobs; show status per thumbnail; play bell when job completes.
- Test dashboard exists because production currently broken; it must allow job start, minimize to tray, permit immediate reruns, and support WaveSpeed.ai + Fal.ai while credits remain.
- If credits insufficient/low, surface warning to top up; cancel outstanding jobs via API when balance gone.
