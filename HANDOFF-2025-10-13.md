**Purpose:** Capture production UX + test-dashboard expectations
**Date:** 2025-10-13
**Project:** PROJECT_NAME

### TODAY'S PROGRESS
- Completed: ["Applied add_provider_metadata_to_jobs.sql + 20251012_add_job_provider_events.sql on production", "Scripted poller batch refresh inserting job_provider_events (WaveSpeed + Fal)", "Verified /test-dashboard multi-gen against WaveSpeed with Supabase-hosted asset"]
- Blockers: ["Fal jobs remain IN_QUEUE even after poller runs", "Replicate Sora rejected key (org not verified) so no coverage yet", "Cron + prod poller deployment still outstanding"]
- Decisions: ["Store admin/poller assets under Supabase product-uploads/", "WaveSpeed is primary fallback while Fal queue stalls", "Leave Replicate integration gated until org verification arrives"]

### CURRENT FOCUS
- Working on: "Hardening provider poller + admin telemetry (jobs + events)"
- Next immediate task: "Schedule poller cron + wire admin dashboard token gating"

### ACTIVE CONFIGURATIONS
- NAME = VALUE

### TOMORROW'S PRIORITIES
1. "Deploy poller cron against /api/sora/poller with ADMIN_DASHBOARD_TOKEN"
2. "Finalize /admin/jobs smoke test incl. event timeline"
3. "Acquire verified OpenAI org key or alternate provider for Sora coverage"

### CONTEXT NEEDED
- ["Fal support on persistent IN_QUEUE state", "OpenAI org verification timeline for Sora access"]

### UX FLOW NOTES (do not lose)
- Production flow: login → OTP → Stripe credit pack purchase → generate video via upload/provider/settings.
- After submit: job moves into thumbnail tray; user must stay unblocked to start more jobs; show status per thumbnail; play bell when job completes.
- Test dashboard exists because production currently broken; it must allow job start, minimize to tray, permit immediate reruns, and support WaveSpeed.ai + Fal.ai while credits remain.
- If credits insufficient/low, surface warning to top up; cancel outstanding jobs via API when balance gone.
