**Purpose:** Facilitate project hand-off
**DATE:** 2025-10-09
**PROJECT:** sora2-ugc-app

### TODAY'S PROGRESS
- Completed: Automation `/api/testing/session` endpoint now provisions Supabase sessions, top-ups, and resets; Playwright helper seeds storage/cookies for frictionless login; seeded QA users with high/medium/low credit balances; set default Sora job cost to 5 credits to preserve >40% margin on the $15 pack.
- Blockers: Dashboard balance banner does not refresh after automation top-up, keeping the Sora submission button disabled; live run still skipping real Sora polling because UI never advances.
- Decisions: Lock Sora credit cost at 5 per generation, keep automation endpoints gated behind `x-automation-secret`, and continue using mock flow for local smoke tests.

### CURRENT FOCUS
- Working on: Wiring a balance refresh/listener so automation sees the updated credits immediately.
- Next immediate task: Update dashboard + e2e spec to wait for the refreshed balance before attempting Sora job submission.

### ACTIVE CONFIGURATIONS
- NEXT_PUBLIC_SUPABASE_URL = https://ylcseodxtwpxkeahrieb.supabase.co
- NEXT_PUBLIC_SUPABASE_ANON_KEY = configured via env (not committed)
- SUPABASE_SERVICE_ROLE_KEY = configured via env (not committed)
- AUTOMATION_SECRET = configured in env for testing endpoints
- SITE_URL = https://genvidsfast.com
- SORA_CREDIT_COST = 5 (default if env unset)

### TOMORROW'S PRIORITIES
1. Implement dashboard credit refresh to unblock the automation Sora run.
2. Re-run `npm run test:e2e -- live-genvidsfast.spec.ts` against production with automation enabled.
3. Validate regen/policy warning UX and confirm download flow before scheduling deploy.

### CONTEXT NEEDED
- Need final copy guidelines for the Sora policy warning banner and confirmation that automation credit packs should stay at $15/5-credit ratio.
